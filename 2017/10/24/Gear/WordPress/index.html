<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">



  <meta name="description" content="WordPress"/>




  <meta name="keywords" content="Gear, WordPress, A Little Boy`s Treasure" />










  <link rel="alternate" href="/atom.xml" title="A Little Boy`s Treasure">




  <link rel="shortcut icon" type="image/x-icon" href="/../public/fav.ico?v=2.6.0" />



<link rel="canonical" href="http://nicreals.com/2017/10/24/Gear/WordPress/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />






  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>









    <title> WordPress - A Little Boy`s Treasure </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">A Little Boy`s Treasure</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">A Little Boy`s Treasure</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Archives
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              Categories
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          WordPress
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2017-10-24
        </span>
        
        
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#准备工作"><span class="toc-text">准备工作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#VPS服务器"><span class="toc-text">VPS服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#个人域名"><span class="toc-text">个人域名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一颗闲的疼的蛋"><span class="toc-text">一颗闲的疼的蛋</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LNMP安装"><span class="toc-text">LNMP安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SSH登录"><span class="toc-text">SSH登录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开启screen保护"><span class="toc-text">开启screen保护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#脚本安装LNMP"><span class="toc-text">脚本安装LNMP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#脚本配置提示设定"><span class="toc-text">脚本配置提示设定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置虚拟主机"><span class="toc-text">配置虚拟主机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Wordpress"><span class="toc-text">安装Wordpress</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加用户"><span class="toc-text">添加用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置FTP服务"><span class="toc-text">配置FTP服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#插件-主题"><span class="toc-text">插件/主题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#推荐"><span class="toc-text">推荐</span></a></li></ol></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <!-- # 大概是最性感的WordPress折腾攻略 -->
<blockquote>
<p><a href="https://miaocode.tk/centos6-vps-wordpress/" target="_blank" rel="external">CentOS6 VPS安装LNMP+WordPress ip建站全过程</a><br><a href="https://sspai.com/post/37118" target="_blank" rel="external">使用VPS搭建自己的WordPress</a></p>
</blockquote>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="VPS服务器"><a href="#VPS服务器" class="headerlink" title="VPS服务器"></a>VPS服务器</h3><p>推荐购买<a href="https://www.vultr.com/?ref=7234742" target="_blank" rel="external">Vultr</a>的服务器，价格相对便宜，速度稳定，还自带DNS解析；</p>
<h3 id="个人域名"><a href="#个人域名" class="headerlink" title="个人域名"></a>个人域名</h3><p>有Visa信用卡的可以在<a href="https://www.godaddy.com/" target="_blank" rel="external">GoDaddy</a>购买域名；或者选择<a href="https://wanwang.aliyun.com" target="_blank" rel="external">阿里云</a>也是不错的选择；购买后需要设置<code>DNS</code>解析才能将域名指向VPS服务器的IP；</p>
<h3 id="一颗闲的疼的蛋"><a href="#一颗闲的疼的蛋" class="headerlink" title="一颗闲的疼的蛋"></a>一颗闲的疼的蛋</h3><p>生命不息，折腾不止</p>
<a id="more"></a>
<h2 id="LNMP安装"><a href="#LNMP安装" class="headerlink" title="LNMP安装"></a>LNMP安装</h2><p>所谓<a href="https://lnmp.org/" target="_blank" rel="external">LNMP</a>就是集成了<code>Nginx</code>, <code>MySQL</code>, <code>PHP</code>全家桶的<code>WordPress</code>懒人工具包;</p>
<h3 id="SSH登录"><a href="#SSH登录" class="headerlink" title="SSH登录"></a><code>SSH</code>登录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh root@&lt;your ip&gt;</div></pre></td></tr></table></figure>
<h3 id="开启screen保护"><a href="#开启screen保护" class="headerlink" title="开启screen保护"></a>开启screen保护</h3><p> 由于<code>LNMP</code>安装时间较长(0.5h-1.0h),未避免手贱关闭<code>Terminal</code>致使安装中断，导致前功尽弃，所以需要开启<a href="http://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html" target="_blank" rel="external">screen</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">screen -S lnmp</div></pre></td></tr></table></figure>
<h3 id="脚本安装LNMP"><a href="#脚本安装LNMP" class="headerlink" title="脚本安装LNMP"></a>脚本安装<code>LNMP</code></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget -c http://soft.vpser.net/lnmp/lnmp1.4-full.tar.gz &amp;&amp; tar zxf lnmp1.4-full.tar.gz &amp;&amp; cd lnmp1.4-full &amp;&amp; ./install.sh lnmp4</div></pre></td></tr></table></figure>
<h3 id="脚本配置提示设定"><a href="#脚本配置提示设定" class="headerlink" title="脚本配置提示设定"></a>脚本配置提示设定</h3><ol>
<li>设置<code>MySQL</code>版本以及密码，默认即可，高版本对内存要求较高，不建议；</li>
<li>设置<code>PHP</code>版本，可以选择高版本或者自己熟悉的版本，后期开发方便；</li>
<li>是否安装内存优化(Jemalloc/TCMlloc),内存小的VPS建议不安装；</li>
<li>是否生成同名数据库，可以先选择<code>n</code>,后面再进行配置;</li>
<li>是否安装<code>SSL</code>，直接enter默认即可</li>
<li>激动的点击enter开始安装</li>
</ol>
<p><strong>此期间耗时较长，可能会经历若干次数失败，出现问题请重复以上步骤</strong></p>
<h3 id="配置虚拟主机"><a href="#配置虚拟主机" class="headerlink" title="配置虚拟主机"></a>配置虚拟主机</h3><p>任意目录执行命令:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lnmp vhost add</div></pre></td></tr></table></figure>
<p>期间有如下配置:</p>
<ol>
<li>设置域名，输入在阿里云或者Godaddy申请的域名,eg:<code>www.nicreals.cn</code>;</li>
<li>设置额外域名,eg:<code>nicreals.cn</code>;</li>
<li>设置目录，默认即可；</li>
<li>是否开启伪静态：y回车；</li>
<li>伪静态类型：输入wordpress回车；</li>
<li>是否开启log，默认即可</li>
<li>激动的点击enter开始配置虚拟主机</li>
</ol>
<p>成功后会在<code>/usr/local/nginx/conf/vhost/www.embracez.xyz.conf</code>目录下生成配置文件，并且访问VPS的IP地址会出现<code>LNMP</code>的欢迎页面:</p>
<p><img src="http://oy7jl2mxp.bkt.clouddn.com/lnmp_welcome.png" alt="lnmp_welcome"></p>
<h3 id="安装Wordpress"><a href="#安装Wordpress" class="headerlink" title="安装Wordpress"></a>安装Wordpress</h3><p>切换到根目录:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd ~</div></pre></td></tr></table></figure>
<p>下载并解压<code>WordPress</code>安装包:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget -c https://cn.wordpress.org/wordpress-4.2.2-zh_CN.tar.gz</div><div class="line">tar zxvf wordpress-4.2.2-zh_CN.tar.gz</div></pre></td></tr></table></figure>
<p>设置读写权限:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chown -R www:www wordpress</div></pre></td></tr></table></figure>
<p>复制文件到主机根目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp -R wordpress/* /home/wwwroot/&lt;your domain&gt;</div></pre></td></tr></table></figure>
<p>此时访问域名即可出现WordPress设置界面:</p>
<p><img src="http://oy7jl2mxp.bkt.clouddn.com/wp_welcome.png" alt=""></p>
<p>若安装过程中发现配置失败，或者想重新配置，需要执行以下步骤:</p>
<ul>
<li><p>删除虚拟主机</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">lnmp vhost del &lt;your domain&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>配置文件权限文件<br>使用lnmp命令并不会自动删除主机文件，并且主<br>机下<code>.user.ini</code>文件不能直接删除，需要执行以下步骤删除:</p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chattr -i /home/wwwroot/&lt;your domain&gt;/.user.ini</div></pre></td></tr></table></figure>
<ul>
<li>删除目录</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rm -rf /home/wwwroot/&lt;your domain&gt;/</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h2><p>访问VPS的IP，点击<code>phpMyAdmin</code>使用安装<code>LNMP</code>时设置的用户/密码登录，进入后台配置页面；</p>
<p>点击<code>账户</code>-&gt;<code>新增用户账户</code>来添加<code>WordPress</code>的登录用户:<br>Host name填写localhost，勾选<code>创建与用户同名的数据库并授予所有权限</code>选项。</p>
<p>完成后访问申请的域名按照向导提示一步步完成配置即可。</p>
<h2 id="配置FTP服务"><a href="#配置FTP服务" class="headerlink" title="配置FTP服务"></a>配置FTP服务</h2><p>安装<code>pureftpd</code>:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./lnmp1.4/pureftpd.sh</div></pre></td></tr></table></figure>
<p>设置主机目录权限:</p>
<p>如果VPS的系统是Ubuntu，还需要配置文件权限才能正常使用FTP服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">chown www-data /home/wwwroot/&lt;your domain&gt;/</div><div class="line"></div><div class="line">chgrp www-data /home/wwwroot/&lt;your domain&gt;/</div><div class="line"></div><div class="line">chmod g+w /home/wwwroot/&lt;your domain&gt;/</div></pre></td></tr></table></figure>
<p>只有在配置完FTP服务后，才能正常的安装主题，插件和上传文件到虚拟主机.</p>
<h2 id="插件-主题"><a href="#插件-主题" class="headerlink" title="插件/主题"></a>插件/主题</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>插件和主题可以在控制台搜索安装，也可以通过上传本地<code>zip</code>文件安装。</p>
<h3 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h3><ul>
<li>SiteOrigin CSS: 可以非常方便的修改页面上的css样式；</li>
<li>WP Editor.md:完善的MarkDown编辑器，并且可以自定义代码高亮效果；</li>
<li>Hacker:适合程序员的一款主题</li>
</ul>

      
    </div>

    
      
      



      
      
    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/Gear/">Gear</a>
            
              <a href="/tags/WordPress/">WordPress</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
    
      <a class="next" href="/2017/09/26/Gear/AppCode/">
        <span class="next-text nav-default">AppCode</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
  </div>


        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:nic.reals@outlook.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
        
          <a href="https://github.com/nicreals" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2017

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Nic Reals</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  



    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  


    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

  </body>
</html>
